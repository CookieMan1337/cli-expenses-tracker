
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤–≤–µ–¥–∏—Ç–µ `help`, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
*   **–£—á–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, –¥–∞—Ç–æ–π –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º.
*   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:** –°–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
*   **–ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏:** –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
*   **–ë–∞–ª–∞–Ω—Å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞, —Å—É–º–º—ã –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤.
*   **–•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏:** –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **–º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**:
1.  **–°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (CLI):** `app.LedgerLiteApp` ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
2.  **–°–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–°–µ—Ä–≤–∏—Å—ã):** `service.LedgerService` ‚Äî "–º–æ–∑–≥" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏.
3.  **–°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏):** `persistence.Repository` ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π.
4.  **–î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π (–°—É—â–Ω–æ—Å—Ç–∏):** `domain.*` ‚Äî —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã: `Transaction`, `Money`, `Category`.

## üì¶ –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –∑–∞–ø—É—Å–∫–æ–º –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
./gradlew build

# –°–æ–∑–¥–∞–Ω–∏–µ "—Ç–æ–ª—Å—Ç–æ–≥–æ" JAR-—Ñ–∞–π–ª–∞ —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
./gradlew fatJar
java -jar build/libs/ledgerlite-*.jar

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
./gradlew test
```


## **DEVELOPER_GUIDE.md**


# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ LedgerLite üßë‚Äçüíª

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ledgerlite/src/main/java/com/ledgerlite/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ LedgerLiteApp.java      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îú‚îÄ‚îÄ Money.java              # Value Object –¥–ª—è –¥–µ–Ω–µ–≥
‚îÇ   ‚îú‚îÄ‚îÄ Category.java           # –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ Transaction.java        # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ Income.java             # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–æ—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ Expense.java            # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å —Ä–∞—Å—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îî‚îÄ‚îÄ LedgerService.java      # –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ persistence/
‚îÇ   ‚îú‚îÄ‚îÄ Repository.java         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ InMemoryRepository.java # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø–∞–º—è—Ç–∏
‚îú‚îÄ‚îÄ util/
‚îÇ   ‚îú‚îÄ‚îÄ Validator.java          # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ MoneyParser.java        # –ü–∞—Ä—Å–∏–Ω–≥ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—É–º–º
‚îÇ   ‚îî‚îÄ‚îÄ DateParser.java         # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç
‚îî‚îÄ‚îÄ exception/
‚îÇ   ‚îú‚îÄ‚îÄ LedgerException.java    # –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ ValidationException.java # –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ EntityNotFoundException.java # –ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
```

## üîç –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤

### **1. –î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π (`domain/`)**

#### **`Money.java` (Record)**
*–ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç-–∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ–Ω–µ–∂–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏.*

**–ü–æ–ª—è:**
- `value: BigDecimal` ‚Äî —Å—É–º–º–∞ —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥–æ 2 –∑–Ω–∞–∫–æ–≤
- `currency: Currency` ‚Äî –≤–∞–ª—é—Ç–∞ (ISO 4217)

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `value` –∏ `currency` –Ω–∞ null
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ `value >= 0`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–∫—Ä—É–≥–ª—è–µ—Ç –¥–æ 2 –∑–Ω–∞–∫–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `add(Money other): Money` ‚Äî —Å–ª–æ–∂–µ–Ω–∏–µ –¥–µ–Ω–µ–≥ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª—é—Ç—É)
- `subtract(Money other): Money` ‚Äî –≤—ã—á–∏—Ç–∞–Ω–∏–µ –¥–µ–Ω–µ–≥
- `multiply(double multiplier): Money` ‚Äî —É–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç
- `isGreaterThan(Money other): boolean` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
- `isNegative(): boolean` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `of(double value, String currencyCode): Money` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑ double –∏ –∫–æ–¥–∞ –≤–∞–ª—é—Ç—ã
- `zero(Currency currency): Money` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –Ω—É–ª–µ–≤–æ–π —Å—É–º–º—ã

#### **`Category.java` (Record)**
*–ö–∞—Ç–µ–≥–æ—Ä–∏—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.*

**–ü–æ–ª—è:**
- `code: String` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ (–≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ)
- `name: String` ‚Äî —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `code` –∏ `name` –Ω–∞ null –∏ –ø—É—Å—Ç–æ—Ç—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–µ–∑–∞–µ—Ç –ø—Ä–æ–±–µ–ª—ã –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫–æ–¥ –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏):**
- `FOOD`, `TRANSPORT`, `SALARY`, `SHOPPING`, `ENTERTAINMENT` –∏ –¥—Ä.
- `defaultCategories(): Category[]` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

#### **`Transaction.java` (–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å)**
*–ë–∞–∑–æ–≤–∞—è —Å—É—â–Ω–æ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.*

**–ü–æ–ª—è (private final):**
- `id: UUID` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `date: LocalDate` ‚Äî –¥–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `amount: Money` ‚Äî —Å—É–º–º–∞
- `category: Category` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `note: String` ‚Äî –∑–∞–º–µ—Ç–∫–∞

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã:**
- `protected Transaction(UUID id, ...)` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- `protected Transaction(LocalDate date, ...)` ‚Äî —Å–æ–∑–¥–∞–µ—Ç —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º UUID

**–ú–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
- `validate(): void` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –¥–∞—Ç–∞ –Ω–µ –≤ –±—É–¥—É—â–µ–º

**–ì–µ—Ç—Ç–µ—Ä—ã:**
- `getId(): UUID`, `getDate(): LocalDate`, `getAmount(): Money`, etc.

**–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥:**
- `getType(): TransactionType` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `INCOME` –∏–ª–∏ `EXPENSE`

**–ö–ª–∞—Å—Å—ã-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏:**
- **`Income.java`** ‚Äî –¥–æ—Ö–æ–¥—ã. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã `Transaction`. `getType()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `INCOME`.
- **`Expense.java`** ‚Äî —Ä–∞—Å—Ö–æ–¥—ã. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã `Transaction`. `getType()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `EXPENSE`.

#### **`Budget.java` (Record)**
*–ó–∞–¥–µ–ª –Ω–∞ –±—É–¥—É—â–µ–µ ‚Äî –±—é–¥–∂–µ—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ –ø–µ—Ä–∏–æ–¥.*

**–ü–æ–ª—è:**
- `period: YearMonth` ‚Äî –ø–µ—Ä–∏–æ–¥ (–≥–æ–¥-–º–µ—Å—è—Ü)
- `category: Category` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `limit: Money` ‚Äî –ª–∏–º–∏—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤

### **2. –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π (`service/`)**

#### **`LedgerService.java`**
*–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.*

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `transactionRepository: Repository<Transaction, UUID>`
- `categoryRepository: Repository<Category, String>`

**–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏:**
- `addIncome(date, amount, category, note): Income` ‚Äî —Å–æ–∑–¥–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–æ—Ö–æ–¥
- `addExpense(date, amount, category, note): Expense` ‚Äî —Å–æ–∑–¥–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞—Å—Ö–æ–¥
- `getTransaction(id): Optional<Transaction>` ‚Äî –ø–æ–∏—Å–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ ID
- `getAllTransactions(): List<Transaction>` ‚Äî –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `removeTransaction(id): void` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:**
- `addCategory(code, name): Category` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `getAllCategories(): List<Category>` ‚Äî –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `getCategory(code): Optional<Category>` ‚Äî –ø–æ–∏—Å–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –∫–æ–¥—É
- `removeCategory(code): void` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)

**–ú–µ—Ç–æ–¥—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
- `getBalance(): Money` ‚Äî —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å (–¥–æ—Ö–æ–¥—ã - —Ä–∞—Å—Ö–æ–¥—ã)
- `getTotalIncome(): Money` ‚Äî —Å—É–º–º–∞ –≤—Å–µ—Ö –¥–æ—Ö–æ–¥–æ–≤
- `getTotalExpense(): Money` ‚Äî —Å—É–º–º–∞ –≤—Å–µ—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤

**–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `initializeDefaultCategories(): void` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- `validateTransactionParams(date, amount, category): void` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### **3. –°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (`persistence/`)**

#### **`Repository.java` (Interface)**
*–ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º.*

**–¢–∏–ø—ã:**
- `T` ‚Äî —Ç–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏
- `ID` ‚Äî —Ç–∏–ø –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞

**–ú–µ—Ç–æ–¥—ã CRUD:**
- `save(T entity): T` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `findById(ID id): Optional<T>` ‚Äî –ø–æ–∏—Å–∫ –ø–æ ID
- `findAll(): List<T>` ‚Äî –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏
- `delete(ID id): void` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ
- `exists(ID id): boolean` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
- `count(): long` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–µ–π

#### **`InMemoryRepository.java` (Class)**
*–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏.*

**–ü–æ–ª—è:**
- `storage: ConcurrentHashMap<ID, T>` ‚Äî –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- `idExtractor: Function<T, ID>` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ID –∏–∑ —Å—É—â–Ω–æ—Å—Ç–∏

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
- `InMemoryRepository(Function<T, ID> idExtractor)` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ID

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –î–ª—è `Transaction` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Transaction::getId` (UUID)
- –î–ª—è `Category` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Category::code` (String)
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã –±–ª–∞–≥–æ–¥–∞—Ä—è `ConcurrentHashMap`

### **4. –°–ª–æ–π —É—Ç–∏–ª–∏—Ç (`util/`)**

#### **`Validator.java`**
*–£—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.*

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:**
- `checkNotNull(Object value, String fieldName): void` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ null
- `checkNotBlank(String value, String fieldName): void` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É
- `checkPositive(BigDecimal value, String fieldName): void` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- `checkNotNegative(BigDecimal value, String fieldName): void` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ-–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### **`MoneyParser.java`**
*–ü–∞—Ä—Å–∏–Ω–≥ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—É–º–º –∏–∑ —Å—Ç—Ä–æ–∫.*

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:**
- `parse(String amountStr, String currencyCode): Money` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —Å—É–º–º—ã –∏ –≤–∞–ª—é—Ç—ã
- `parse(String amountStr): Money` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —Å—É–º–º—ã —Å –≤–∞–ª—é—Ç–æ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (RUB)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞ —á–∏—Å–ª–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤–∞–ª—é—Ç—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–±–µ–ª—ã –≤ —Å—Ç—Ä–æ–∫–µ

#### **`DateParser.java`**
*–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç –∏–∑ —Å—Ç—Ä–æ–∫.*

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:**
- `parse(String dateStr): LocalDate` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç—ã –∏–∑ —Å—Ç—Ä–æ–∫–∏
- `parseOrDefault(String dateStr, LocalDate defaultDate): LocalDate` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —Å fallback
- `today(): LocalDate` ‚Äî —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- `YYYY-MM-DD` (ISO)
- `dd.MM.yyyy`
- `dd/MM/yyyy`

### **5. –°–ª–æ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π (`exception/`)**

#### **`LedgerException.java`**
*–ë–∞–∑–æ–≤–æ–µ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.*

#### **`ValidationException.java`**
*–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª.

#### **`EntityNotFoundException.java`**
*–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "—Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞".* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—É—â–Ω–æ—Å—Ç–∏.

### **6. –°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (`app/`)**

#### **`LedgerLiteApp.java`**
*–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.*

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `run(): void` ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `processCommand(String input): void` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–µ–¥–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
- `addIncome(): void` ‚Äî –¥–∏–∞–ª–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–∞
- `addExpense(): void` ‚Äî –¥–∏–∞–ª–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞
- `listTransactions(): void` ‚Äî –≤—ã–≤–æ–¥ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `showBalance(): void` ‚Äî –≤—ã–≤–æ–¥ –±–∞–ª–∞–Ω—Å–∞
- `addCategory(): void` ‚Äî –¥–∏–∞–ª–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `listCategories(): void` ‚Äî –≤—ã–≤–æ–¥ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `removeTransaction(): void` ‚Äî –¥–∏–∞–ª–æ–≥ —É–¥–∞–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Scanner` –¥–ª—è —á—Ç–µ–Ω–∏—è –≤–≤–æ–¥–∞
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å `LedgerService` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

#### **`Command.java` (Enum)**
*–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.*

**–ó–Ω–∞—á–µ–Ω–∏—è:**
- `HELP("help", "–°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥")`
- `ADD_INCOME("–î–æ—Ö–æ–¥", "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –¥–æ—Ö–æ–¥")`
- `ADD_EXPENSE("–¢—Ä–∞—Ç–∞", "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Ä–∞—Å—Ö–æ–¥–∞")`
- `LIST("List", "–°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π")`
- `BALANCE("Balance", "–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å")`
- `ADD_CATEGORY("–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é", "–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç—Ä–∞—Ç")`
- `LIST_CATEGORIES("–ö–∞—Ç–µ–≥–æ—Ä–∏–∏", "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")`
- `REMOVE("Remove", "–£–¥–∞–ª–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é")`
- `EXIT("Exit", "–í—ã—Ö–æ–¥")`

**–ú–µ—Ç–æ–¥—ã:**
- `fromString(String text): Command` ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–º–∞–Ω–¥—É
- `getHelp(): String` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥

## üîÑ –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∏–ø–∏—á–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞:**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "–¢—Ä–∞—Ç–∞"
2. LedgerLiteApp.addExpense() –∑–∞–ø—É—Å–∫–∞–µ—Ç –¥–∏–∞–ª–æ–≥:
    - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç MoneyParser.parse()
    - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç ledgerService.getCategory()
    - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞—Ç—É ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç DateParser.parseOrDefault()
    - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∑–∞–º–µ—Ç–∫—É
3. LedgerLiteApp –≤—ã–∑—ã–≤–∞–µ—Ç ledgerService.addExpense()
4. LedgerService.addExpense():
    - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    - –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç Expense
    - –í—ã–∑—ã–≤–∞–µ—Ç transactionRepository.save()
5. InMemoryRepository.save():
    - –ò–∑–≤–ª–µ–∫–∞–µ—Ç ID (expense.getId())
    - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ ConcurrentHashMap
6. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ —Ü–µ–ø–æ—á–∫–µ
7. LedgerLiteApp –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
```

### **–†–∞—Å—á–µ—Ç –±–∞–ª–∞–Ω—Å–∞:**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "Balance"
2. LedgerLiteApp –≤—ã–∑—ã–≤–∞–µ—Ç ledgerService.getBalance()
3. LedgerService.getBalance():
    - –í—ã–∑—ã–≤–∞–µ—Ç getTotalIncome() –∏ getTotalExpense()
    - getTotalIncome() —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ instanceof Income
    - –°—É–º–º–∏—Ä—É–µ—Ç —Å—É–º–º—ã —á–µ—Ä–µ–∑ Stream API
    - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É Income - Expense
4. LedgerLiteApp —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å** ‚Äî `Money`, `Category` –∫–∞–∫ records, `Transaction` —Å final –ø–æ–ª—è–º–∏
2. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –¥–∂–µ–Ω–µ—Ä–∏–∫–∏ –≤ `Repository<T, ID>`, –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
3. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî —á–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
4. **–ó–∞—â–∏—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
5. **–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥–µ–ª–∞–µ—Ç –æ–¥–Ω–æ –¥–µ–ª–æ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Domain-–∫–ª–∞—Å—Å—ã** ‚Äî —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- **–°–µ—Ä–≤–∏—Å—ã** ‚Äî —Ç–µ—Å—Ç—ã —Å Mockito –∏–∑–æ–ª–∏—Ä—É—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- **–£—Ç–∏–ª–∏—Ç—ã** ‚Äî —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ó–∞–ø—É—Å–∫: `./gradlew test`
